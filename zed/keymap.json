// Zed keymap - replicating VSCode/Vim keybindings
// Based on your dotfiles configuration
//
// Leader key: Space
// Features:
// - File management (save, close, quit)
// - Split navigation (hjkl)
// - Fuzzy finding (files, buffers, symbols)
// - Zen mode
// - Russian keyboard layout support
[
  // ============================================================
  //                    EDITOR BINDINGS
  // ============================================================

  {
    "context": "Editor",
    "bindings": {
      "ctrl-b": "tab_switcher::ToggleAll"
    }
  },

  // ============================================================
  //                    WORKSPACE BINDINGS
  // ============================================================
  {
    "context": "Workspace",
    "bindings": {
      "ctrl-p": "file_finder::Toggle",
      "ctrl-n": "project_panel::ToggleFocus",
      "cmd-t": "workspace::NewCenterTerminal"
    }
  },

  // ============
  //                VIM NORMAL MODE - LEADER COMMANDS
  // ============================================================
  {
    "context": "Editor && vim_mode == normal",
    "bindings": {
      // ─── File Management ───────────────────────────────────
      "space s": "workspace::Save",
      "space w": "pane::CloseActiveItem",
      "space shift-w": "pane::CloseActiveItem",
      "space shift-q": "workspace::CloseAllItemsAndPanes",
      "space f": "pane::CloseOtherItems",

      // ─── Zen Mode ──────────────────────────────────────────
      "space z": "workspace::ToggleCenteredLayout",

      // ─── Split Navigation ──────────────────────────────────
      "space h": "workspace::ActivatePaneLeft",
      "space j": "workspace::ActivatePaneDown",
      "space k": "workspace::ActivatePaneUp",
      "space l": "workspace::ActivatePaneRight",

      // ─── Editor Navigation ─────────────────────────────────
      "space shift-h": "pane::ActivatePreviousItem",
      "space shift-l": "pane::ActivateNextItem",

      // ─── Fuzzy Finding ─────────────────────────────────────
      "space p": "file_finder::Toggle",
      "space b": "tab_switcher::ToggleAll",
      "space a": "pane::DeploySearch",
      "space c": "outline::Toggle",
      "space e": "project_symbols::Toggle",

      // ─── History & Clipboard ───────────────────────────────
      "space v": "editor::SelectAll",
      "space ;": "command_palette::Toggle",

      // ═══════════════════════════════════════════════════════
      //          RUSSIAN LEADER COMMANDS (Cyrillic)
      // ═══════════════════════════════════════════════════════
      "space ы": "workspace::Save",
      "space ц": "pane::CloseActiveItem",
      "space shift-ц": "pane::CloseActiveItem",
      "space shift-й": "workspace::CloseAllItemsAndPanes",
      "space а": "pane::CloseOtherItems",
      "space я": "workspace::ToggleCenteredLayout",
      "space р": "workspace::ActivatePaneLeft",
      "space о": "workspace::ActivatePaneDown",
      "space л": "workspace::ActivatePaneUp",
      "space д": "workspace::ActivatePaneRight",
      "space shift-р": "pane::ActivatePreviousItem",
      "space shift-д": "pane::ActivateNextItem",
      "space з": "file_finder::Toggle",
      "space и": "tab_switcher::ToggleAll",
      "space ф": "pane::DeploySearch",
      "space с": "outline::Toggle",
      "space у": "project_symbols::Toggle",
      "space м": "editor::SelectAll",
      "space ж": "command_palette::Toggle",

      // ═══════════════════════════════════════════════════════
      //     RUSSIAN KEYBOARD LAYOUT REMAPPING (lowercase)
      // ═══════════════════════════════════════════════════════
      "у": ["workspace::SendKeystrokes", "e"],
      "к": ["workspace::SendKeystrokes", "r"],
      "е": ["workspace::SendKeystrokes", "t"],
      "н": ["workspace::SendKeystrokes", "y"],
      "г": ["workspace::SendKeystrokes", "u"],
      "ш": ["workspace::SendKeystrokes", "i"],
      "щ": ["workspace::SendKeystrokes", "o"],
      "з": ["workspace::SendKeystrokes", "p"],
      "х": ["workspace::SendKeystrokes", "["],
      "ъ": ["workspace::SendKeystrokes", "]"],
      "ф": ["workspace::SendKeystrokes", "a"],
      "ы": ["workspace::SendKeystrokes", "s"],
      "в": ["workspace::SendKeystrokes", "d"],
      "а": ["workspace::SendKeystrokes", "f"],
      "п": ["workspace::SendKeystrokes", "g"],
      "р": ["workspace::SendKeystrokes", "h"],
      "о": ["workspace::SendKeystrokes", "j"],
      "л": ["workspace::SendKeystrokes", "k"],
      "д": ["workspace::SendKeystrokes", "l"],
      "ж": ["workspace::SendKeystrokes", ";"],
      "э": ["workspace::SendKeystrokes", "'"],
      "я": ["workspace::SendKeystrokes", "z"],
      "ч": ["workspace::SendKeystrokes", "x"],
      "с": ["workspace::SendKeystrokes", "c"],
      "м": ["workspace::SendKeystrokes", "v"],
      "и": ["workspace::SendKeystrokes", "b"],
      "т": ["workspace::SendKeystrokes", "n"],
      "ь": ["workspace::SendKeystrokes", "m"],
      "б": ["workspace::SendKeystrokes", ","],
      "ю": ["workspace::SendKeystrokes", "."],

      // ═══════════════════════════════════════════════════════
      //     RUSSIAN KEYBOARD LAYOUT REMAPPING (uppercase)
      // ═══════════════════════════════════════════════════════
      "Й": ["workspace::SendKeystrokes", "shift-q"],
      "Ц": ["workspace::SendKeystrokes", "shift-w"],
      "У": ["workspace::SendKeystrokes", "shift-e"],
      "К": ["workspace::SendKeystrokes", "shift-r"],
      "Е": ["workspace::SendKeystrokes", "shift-t"],
      "Н": ["workspace::SendKeystrokes", "shift-y"],
      "Г": ["workspace::SendKeystrokes", "shift-u"],
      "Ш": ["workspace::SendKeystrokes", "shift-i"],
      "Щ": ["workspace::SendKeystrokes", "shift-o"],
      "З": ["workspace::SendKeystrokes", "shift-p"],
      "Х": ["workspace::SendKeystrokes", "{"],
      "Ъ": ["workspace::SendKeystrokes", "}"],
      "Ф": ["workspace::SendKeystrokes", "shift-a"],
      "Ы": ["workspace::SendKeystrokes", "shift-s"],
      "В": ["workspace::SendKeystrokes", "shift-d"],
      "А": ["workspace::SendKeystrokes", "shift-f"],
      "П": ["workspace::SendKeystrokes", "shift-g"],
      "Р": ["workspace::SendKeystrokes", "shift-h"],
      "О": ["workspace::SendKeystrokes", "shift-j"],
      "Л": ["workspace::SendKeystrokes", "shift-k"],
      "Д": ["workspace::SendKeystrokes", "shift-l"],
      "Ж": ["workspace::SendKeystrokes", ":"],
      "Э": ["workspace::SendKeystrokes", "\""],
      "Я": ["workspace::SendKeystrokes", "shift-z"],
      "Ч": ["workspace::SendKeystrokes", "shift-x"],
      "С": ["workspace::SendKeystrokes", "shift-c"],
      "М": ["workspace::SendKeystrokes", "shift-v"],
      "И": ["workspace::SendKeystrokes", "shift-b"],
      "Т": ["workspace::SendKeystrokes", "shift-n"],
      "Ь": ["workspace::SendKeystrokes", "shift-m"],
      "Б": ["workspace::SendKeystrokes", "<"],
      "Ю": ["workspace::SendKeystrokes", ">"]
    }
  },

  // ============================================================
  //                VIM VISUAL MODE - LEADER COMMANDS
  // ============================================================
  {
    "context": "Editor && vim_mode == visual",
    "bindings": {
      // ─── Clipboard ─────────────────────────────────────────
      "space y": "editor::Copy",

      // ─── File Management ───────────────────────────────────
      "space s": "workspace::Save",
      "space w": "pane::CloseActiveItem",
      "space z": "workspace::ToggleCenteredLayout",
      "space f": "pane::CloseOtherItems",

      // ─── Split Navigation ──────────────────────────────────
      "space h": "workspace::ActivatePaneLeft",
      "space j": "workspace::ActivatePaneDown",
      "space k": "workspace::ActivatePaneUp",
      "space l": "workspace::ActivatePaneRight",
      "space shift-h": "pane::ActivatePreviousItem",
      "space shift-l": "pane::ActivateNextItem",

      // ─── Fuzzy Finding ─────────────────────────────────────
      "space p": "file_finder::Toggle",
      "space b": "tab_switcher::ToggleAll",
      "space a": "pane::DeploySearch",
      "space c": "outline::Toggle",
      "space e": "project_symbols::Toggle",

      // ═══════════════════════════════════════════════════════
      //          RUSSIAN LEADER COMMANDS (Visual Mode)
      // ═══════════════════════════════════════════════════════
      "space н": "editor::Copy",
      "space ы": "workspace::Save",
      "space ц": "pane::CloseActiveItem",
      "space я": "workspace::ToggleCenteredLayout",
      "space а": "pane::CloseOtherItems",
      "space р": "workspace::ActivatePaneLeft",
      "space о": "workspace::ActivatePaneDown",
      "space л": "workspace::ActivatePaneUp",
      "space д": "workspace::ActivatePaneRight",
      "space shift-р": "pane::ActivatePreviousItem",
      "space shift-д": "pane::ActivateNextItem",

      // ═══════════════════════════════════════════════════════
      //     RUSSIAN KEYBOARD REMAPPING (Visual Mode)
      // ═══════════════════════════════════════════════════════
      "у": ["workspace::SendKeystrokes", "e"],
      "к": ["workspace::SendKeystrokes", "r"],
      "е": ["workspace::SendKeystrokes", "t"],
      "н": ["workspace::SendKeystrokes", "y"],
      "г": ["workspace::SendKeystrokes", "u"],
      "ш": ["workspace::SendKeystrokes", "i"],
      "щ": ["workspace::SendKeystrokes", "o"],
      "з": ["workspace::SendKeystrokes", "p"],
      "х": ["workspace::SendKeystrokes", "["],
      "ъ": ["workspace::SendKeystrokes", "]"],
      "ф": ["workspace::SendKeystrokes", "a"],
      "ы": ["workspace::SendKeystrokes", "s"],
      "в": ["workspace::SendKeystrokes", "d"],
      "а": ["workspace::SendKeystrokes", "f"],
      "п": ["workspace::SendKeystrokes", "g"],
      "р": ["workspace::SendKeystrokes", "h"],
      "о": ["workspace::SendKeystrokes", "j"],
      "л": ["workspace::SendKeystrokes", "k"],
      "д": ["workspace::SendKeystrokes", "l"],
      "ж": ["workspace::SendKeystrokes", ";"],
      "э": ["workspace::SendKeystrokes", "'"],
      "я": ["workspace::SendKeystrokes", "z"],
      "ч": ["workspace::SendKeystrokes", "x"],
      "с": ["workspace::SendKeystrokes", "c"],
      "м": ["workspace::SendKeystrokes", "v"],
      "и": ["workspace::SendKeystrokes", "b"],
      "т": ["workspace::SendKeystrokes", "n"],
      "ь": ["workspace::SendKeystrokes", "m"],
      "б": ["workspace::SendKeystrokes", ","],
      "ю": ["workspace::SendKeystrokes", "."],

      "Й": ["workspace::SendKeystrokes", "shift-q"],
      "Ц": ["workspace::SendKeystrokes", "shift-w"],
      "У": ["workspace::SendKeystrokes", "shift-e"],
      "К": ["workspace::SendKeystrokes", "shift-r"],
      "Е": ["workspace::SendKeystrokes", "shift-t"],
      "Н": ["workspace::SendKeystrokes", "shift-y"],
      "Г": ["workspace::SendKeystrokes", "shift-u"],
      "Ш": ["workspace::SendKeystrokes", "shift-i"],
      "Щ": ["workspace::SendKeystrokes", "shift-o"],
      "З": ["workspace::SendKeystrokes", "shift-p"],
      "Х": ["workspace::SendKeystrokes", "{"],
      "Ъ": ["workspace::SendKeystrokes", "}"],
      "Ф": ["workspace::SendKeystrokes", "shift-a"],
      "Ы": ["workspace::SendKeystrokes", "shift-s"],
      "В": ["workspace::SendKeystrokes", "shift-d"],
      "А": ["workspace::SendKeystrokes", "shift-f"],
      "П": ["workspace::SendKeystrokes", "shift-g"],
      "Р": ["workspace::SendKeystrokes", "shift-h"],
      "О": ["workspace::SendKeystrokes", "shift-j"],
      "Л": ["workspace::SendKeystrokes", "shift-k"],
      "Д": ["workspace::SendKeystrokes", "shift-l"],
      "Ж": ["workspace::SendKeystrokes", ":"],
      "Э": ["workspace::SendKeystrokes", "\""],
      "Я": ["workspace::SendKeystrokes", "shift-z"],
      "Ч": ["workspace::SendKeystrokes", "shift-x"],
      "С": ["workspace::SendKeystrokes", "shift-c"],
      "М": ["workspace::SendKeystrokes", "shift-v"],
      "И": ["workspace::SendKeystrokes", "shift-b"],
      "Т": ["workspace::SendKeystrokes", "shift-n"],
      "Ь": ["workspace::SendKeystrokes", "shift-m"],
      "Б": ["workspace::SendKeystrokes", "<"],
      "Ю": ["workspace::SendKeystrokes", ">"]
    }
  },

  // ============================================================
  //                VIM INSERT MODE
  // ============================================================
  {
    "context": "Editor && vim_mode == insert",
    "bindings": {
      // jk to exit insert mode (optional, commented out)
      // "j k": "vim::NormalBefore"
    }
  },

  // ============================================================
  //                VIM OPERATOR PENDING MODE
  // ============================================================
  {
    "context": "Editor && vim_operator == pending",
    "bindings": {
      // Russian keys for operator-pending (e.g., diw -> вшц)
      "у": ["workspace::SendKeystrokes", "e"],
      "ц": ["workspace::SendKeystrokes", "w"],
      "ш": ["workspace::SendKeystrokes", "i"],
      "ф": ["workspace::SendKeystrokes", "a"],
      "в": ["workspace::SendKeystrokes", "d"],
      "н": ["workspace::SendKeystrokes", "y"],
      "с": ["workspace::SendKeystrokes", "c"],
      "х": ["workspace::SendKeystrokes", "["],
      "ъ": ["workspace::SendKeystrokes", "]"],
      "р": ["workspace::SendKeystrokes", "h"],
      "о": ["workspace::SendKeystrokes", "j"],
      "л": ["workspace::SendKeystrokes", "k"],
      "д": ["workspace::SendKeystrokes", "l"],
      "п": ["workspace::SendKeystrokes", "g"],
      "а": ["workspace::SendKeystrokes", "f"],
      "е": ["workspace::SendKeystrokes", "t"],
      "и": ["workspace::SendKeystrokes", "b"],
      "ь": ["workspace::SendKeystrokes", "m"],
      "т": ["workspace::SendKeystrokes", "n"],
      "з": ["workspace::SendKeystrokes", "p"],
      "к": ["workspace::SendKeystrokes", "r"],
      "г": ["workspace::SendKeystrokes", "u"],
      "щ": ["workspace::SendKeystrokes", "o"],
      "я": ["workspace::SendKeystrokes", "z"],
      "ч": ["workspace::SendKeystrokes", "x"],
      "м": ["workspace::SendKeystrokes", "v"],
      "б": ["workspace::SendKeystrokes", ","],
      "ю": ["workspace::SendKeystrokes", "."],
      "ж": ["workspace::SendKeystrokes", ";"],
      "э": ["workspace::SendKeystrokes", "'"]
    }
  }
]
